---
title: 《JavaScript高级程序设计》笔记
date: 2019-12-01 17:02:24
permalink: /pages/9f4cad/
categories:
  - 前端
  - 书籍
tags:
  - JavaScript
---

# 《JavaScript高级程序设计》笔记

## 第 1 章：JavaScript 简介
> JavaScript 诞生于 1995年。随着 Web 的流行和发展，对客户端的脚本语言需求愈加强烈，当时走在技术革新前沿的 Netscape 公司决定开发一门客户端语言满足这些需求。由此，LiveScript 诞生，当时为了搭上媒体热炒 Java 的顺风车，改名为 JavaScript。

JavaScript 由 ***核心(ECMAScript)*** 、***文档对象模型(DOM)*** 、***浏览器对象模型(BOM)*** 三部分组成。

::: theorem 核心(ECMAScript)
由于当时一开始并没有标准规定 JavaScript 的语法和特性，导致 JavaScript 产生了不同的版本(Netscape Navigator 和 微软 IE)。1997年，以 JavaScript1.1 为蓝本被提交给了欧洲计算机制造商协会，即 ECMA，由该协会指定技术委员会负责定制标准，最终完成了 ECMA-262，由 ECMA-262 定义的 ECMAScript 诞生。

- 1996 年 11 月，Netscape 公司，决定将 JavaScript 提交给国际标准化组织 ECMA。次年，ECMA发布 ECMAScript。这个版本就是 ECMAScript 1.0 版。
- 1998 年 6 月，ECMAScript 2.0 版发布。
- 1999 年 12 月，ECMAScript 3.0 版发布，成为 JavaScript 的通行标准，得到了广泛支持。
- 2007 年 10 月，ECMAScript 4.0 版草案发布，对 3.0 版做了大幅升级，但是，以 Yahoo、Microsoft、Google为首的大公司，反对 JavaScript 的大幅升级，主张小幅改动，各方分歧太大，争论过于激进，ECMA 开会决定，中止 ECMAScript 4.0 的开发
- 2009 年 12 月，ECMAScript 5.0 版正式发布。
- 2015 年 6 月，ECMAScript 6 正式通过，成为国际标准。
:::

::: theorem 文档对象模型(DOM)
> 文档对象模型是针对 XML 但经过扩展用于 HTML 的应用程序接口。DOM 把整个页面映射为一个多层节点结构。通过 DOM 提供的 API 开发者可以轻松自如的增删查改任何节点。还是由于当时 Netscape 和 微软的竞争导致标准不一，最后由负责 Web 通信标准的 W3C 制定 DOM 标准。

- DOM 级别
    1. DOM 1级，于1998.10成为 W3C 的推荐标准。该级由两个模块组成
        - DOM Core：规定如何映射基于 XML 的文档结构，以便简化对文档中的任意部分的访问和操作
        - DOM HTML：在 DOM 核心基础上加以扩展，添加针对 HTML 的对象和方法
    2. DOM 2级，在原先基础上再扩充新模块
        - DOM 视图 (DOM Views)：定义了跟踪不同文档视图的接口（如：应用 CSS 前后的文档）
        - DOM 事件 (DOM Events)：定义了事件和事件处理接口
        - DOM 样式 (DOM Style)：定义了基于 CSS 为元素应用样式的接口
        - DOM 遍历和范围：定义了遍历和操作文档树的接口
    3. DOM 3级，进一步扩展了 DOM
        - 引入了以统一方式加载和保存文档的方法
        - 新增了验证文档的方法
        - 对核心进行扩展，开始支持 XML 1.0 规范

> *除 JavaScript 外，一些其他语言也实现了 DOM，如 SVG。*
:::

::: theorem 浏览器对象模型(BOM)
> BOM 没有相关的标准，但是这个问题在 HTML5 中得到解决，HTML5 把很多 BOM 功能写入正式规范。

*根本上讲，BOM只处理浏览器窗口和框架，但人们习惯把所有针对浏览器的 JavaScript 扩展算作  BOM 的一部分。下面是一些扩展：*

- 弹出新浏览器窗口的功能
- 移动、缩放和关闭浏览器的功能
- 提供浏览器详细信息的 navigator 对象
- 提供浏览器所加载页面的详细信息的 location 对象
- 提供用户显示器分辨率详细信息的 screen 对象
- 对 cookies 的支持
- 像 XMLHttpRequest 和 IE 的 ActiveXObject 这样的自定义对象
:::

## 第 2 章：在 HTML 中使用 JavaScript
> 向 HTML 页面中插入 JavaScript 的主要方法就是利用  `<script>`元素。该元素由 Netscape 创造，后被加入到 HTML 规范中。在不使用 defer 或 async 属性的情况下，按顺序解析，一般把`<script>`元素放在内容后面`</body>`前面。`<noscript>`元素，当浏览器不支持 JavaScript 的时候，显示该元素中的内容。

::: theorem 延迟脚本和异步脚本
> *`<script>` 标签中的 defer 属性 和 async 属性。只适用于外部脚本*

1. defer 属性：用途是表明脚本在执行时不会影响页面的构造
    - 脚本立即下载
    - 脚本延迟到浏览器遇到`</html>`标签后再执行
    - 顺序执行，且会先于 DOMContentLoaded 事件执行（现实中不一定会按照顺序执行，也不一定会比 DOMContentLoaded 触发前执行。因此最好只包含一个延迟脚本）
2. async 属性：不让页面等待两个脚本的下载和执行（建议加载期间不修改DOM）
    - 脚本立即下载
    - 在页面的 load 事件前执行
    - 不顺序执行，可能会在 DOMContentLoaded 触发前后执行

> XHTML，将HTML作为XML的应用而重新定义的一个标准
:::

::: theorem 文档模式
IE5.5 引入的概念。通过文档类型（doctype）的切换实现。文档模式有 **混杂模式**、**标准模式**和**准标准模式**。HTML5 的标准模式为 `<!DOCTYPE html>`。
:::
